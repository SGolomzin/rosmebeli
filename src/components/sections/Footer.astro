---
import { Icon } from 'astro-icon/components';

import Copyright from '../Copyright.astro';
import Socials from '../Socials.astro';
---
<footer class="main-footer">
	<div class="container">
		<div class="footer-promo">
			<Icon name="logo" />
			<div>Мы создаем качественную мебель на заказ по индивидуальным проектам</div>
			<Socials />
		</div>

		<div class="footer-nav">
			<span class="pseudo-h4">О нас</span>
			<div class="footer-nav__list label">
				<a href="./about">О компании</a>
				<a href="./posts">Статьи</a>
			</div>
		</div>

		<div class="footer-nav">
			<span class="pseudo-h4">Покупателям</span>
			<div class="footer-nav__list label">
				<a href="./catalog">Каталог</a>
				<a href="./services">Услуги</a>
			</div>
		</div>

		<div class="footer-contacts">
			<span class="pseudo-h4">Остались вопросы?</span>
			<address class="footer-contacts__list label">
				<div>На связи ежедневно c&nbsp;10:00 до&nbsp;20:00</div>
				<div class="footer-contacts__list-item"><Icon name="phone" />Тел.: <a href="tel:+79671280200" aria-label="Телефон для связи">+7&nbsp;(967)&nbsp;128&nbsp;02&nbsp;00</a></div>
				<div class="footer-contacts__list-item"><Icon name="mail" />Email: <a href="mailto:zakaz@rosmebeli.ru" aria-label="Email для связи">zakaz@rosmebeli.ru</a></div>
			</address>
		</div>
	</div>
	<Copyright />
</footer>

{/* GSAP animations */}
<script>
	const tl = gsap.timeline({ scrollTrigger: { trigger: ".main-footer" }, defaults:{ opacity: 0, ease: "linear" }});

	function init() {
		tl.from(".footer-promo", { autoAlpha: 0 })
			.from(".footer-nav__list > *", {
				ease: "back",
				y: 50,
				stagger: 0.1
			}, "<")
			.from(".footer-contacts", { autoAlpha: 0 })
	}

	window.addEventListener("load", init);
</script>

<style lang="scss">
	@import "../../styles/_breakpoints.scss";

	.main-footer {
		background-color: var(--clr-primary-700);
		background-image: url("/rosmebeli/images/noise.webp");
		border-top: 1px solid var(--clr-400);
	}

	h4 {
		margin: 0 0 1rem;
	}

	[data-icon] {
    font-size: 2em;
  }

	.container {
		overflow: hidden;
		display: flex;
		flex-wrap: wrap;
		gap: 2.5rem 1.25rem;

		padding-top: 3rem;
		padding-bottom: 3rem;
	}

	.footer {
		&-promo {
			display: flex;
			flex-direction: column;
			gap: 1rem;
			line-height: 1.5;

			[data-icon="logo"] {
				font-size: 3rem;
			}
		}

		&-nav {
			flex: 1 0 auto;
			width: calc(50% - 1rem);
		}

		&-nav__list,
		&-contacts__list {
			display: flex;
			flex-direction: column;
			gap: 0.5rem;

			font-style: normal;
			line-height: 1.5;

			&-item {
				display: inline-flex;
				gap: 0.5em;
				align-items: center;
			}

			[data-icon] {
				font-size: 1.5em;
				color: var(--accent-color);
			}
		}

		@include breakpoint(md) {
			&-promo {
				flex: 1 0 auto;
				width: calc(50% - 1rem);
			}

			&-nav {
				flex: 1 0 auto;
				width: calc(25% - 1rem);
			}
		}

		@include breakpoint(lg) {
			&-promo {
				flex: 0 0 auto;
				width: 425px;

				[data-icon="logo"] {
					font-size: 5rem;
				}
			}

			&-nav {
				flex: 1 0 auto;
				width: auto;
			}
		}
	}
</style>